# craftr_module(nr.c_snippets.cuda_test)

from craftr import path
from craftr.ext.compiler import get_platform_toolset, nvcc

ld = get_platform_toolset().Linker()
nvcc = nvcc.NvccCompiler()

debug = False

cuda_objects = nvcc.compile(
  sources = path.local(['main.cu']),
  machine = 64,
)

main = ld.link(
  inputs = [cuda_objects],
  output = 'main',
  debug = debug,
  libs = cuda_objects.meta['libs'],
  libpath = cuda_objects.meta['libpath'],
)
